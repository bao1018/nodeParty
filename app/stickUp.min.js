jQuery(function($){$(document).ready(function(){var contentButton=[];var contentTop=[];var content=[];var lastScrollTop=0;var scrollDir="down";var itemClass="";var itemHover="";var menuSize=null;var stickyHeight=0;var stickyMarginB=0;var currentMarginT=0;var topMargin=0;var vartop=0;var oldStyle="";$(window).scroll(function(event){var st=$(this).scrollTop();if(st>lastScrollTop){scrollDir="down"}else{scrollDir="up"}lastScrollTop=st});$.fn.stickUp=function(options){ if(options&&!options.noStuckMenu){$(this).addClass("stuckMenu");}var oldStyle=$(this).attr("style");if(!oldStyle){oldStyle=""}var objn=0;if(options!=null){for(var o in options.parts){if(options.parts.hasOwnProperty(o)){if($("#"+options.parts[objn]).size()>0){content[objn]=options.parts[objn];objn++}}}if(objn==0){}itemClass=options.itemClass;itemHover=options.itemHover;if(options.topMargin!=null){if(options.topMargin=="auto"){topMargin=parseInt($(".stuckMenu").css("margin-top"))}else{if(isNaN(options.topMargin)&&options.topMargin.search("px")>0){topMargin=parseInt(options.topMargin.replace("px",""))}else{if(!isNaN(parseInt(options.topMargin))){topMargin=parseInt(options.topMargin)}else{console.log("incorrect argument, ignored.");topMargin=0}}}}else{topMargin=0}menuSize=$("."+itemClass).size()}stickyHeight=parseInt($(this).innerHeight()-2);stickyMarginB=parseInt($(this).css("margin-bottom"));currentMarginT=parseInt($(this).next().closest("div").css("margin-top"));vartop=parseInt($(this).offset().top);stickUpScroll();if(options&&options.addClickEvent){addClickEvent()}};function addClickEvent(){$("."+itemClass).each(function(i){$(this).click(function(){if(i==0){$("html,body").animate({scrollTop:0},300)}else{var that=$(this);$("html,body").animate({scrollTop:parseInt($("#"+content[i]+"").offset().top)-stickyHeight},300,function(){$("."+itemClass).removeClass(itemHover);that.addClass(itemHover)})}})})}function stickUpScroll(){var varscroll=parseInt($(document).scrollTop());if(menuSize!=null){var itemIndex=0;for(var i=0;i<menuSize;i++){contentTop[i]=parseInt($("#"+content[i]+"").offset().top);if(scrollDir=="down"&&varscroll>=contentTop[i]-stickyHeight){itemIndex=i}if(scrollDir=="up"){if(varscroll==contentTop[i]-stickyHeight){itemIndex=i}else{if(varscroll>contentTop[i]-stickyHeight){if(i<menuSize){itemIndex=i}}}}}$("."+itemClass).removeClass(itemHover);$("."+itemClass+":eq("+itemIndex+")").addClass(itemHover)}if(vartop<varscroll+topMargin){$(".stuckMenu").addClass("isStuck");$(".stuckMenu").next().closest("div").css({"margin-top":stickyHeight+stickyMarginB+currentMarginT+"px"},10);$(".stuckMenu").css("position","fixed");$(".isStuck").css({top:"0px"},10,function(){})}if(varscroll+topMargin<=vartop){$(".stuckMenu").removeClass("isStuck");$(".stuckMenu").next().closest("div").css({"margin-top":""},10);$(".stuckMenu").attr("style",oldStyle)}}$(document).on("scroll",function(){stickUpScroll()})})});